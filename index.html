<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mora Sender</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      background: #f4f4f4;
      color: #333;
    }

    header {
      background: #4caf50;
      color: #fff;
      padding: 1.5rem 1rem;
      text-align: center;
    }

    header h1 {
      font-size: 2.5rem;
    }

    header p {
      font-size: 1.2rem;
    }

    main {
      padding: 2rem;
    }

    #dashboard {
      background: #fff;
      padding: 2rem;
      margin: auto;
      max-width: 800px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .status {
      font-size: 1.2rem;
      margin-bottom: 1.5rem;
      padding: 1rem;
      background: #e8f5e9;
      border: 1px solid #c8e6c9;
      border-radius: 4px;
    }

    .input-group {
      margin-bottom: 1.5rem;
    }

    label {
      display: block;
      font-weight: bold;
      margin-bottom: 0.5rem;
    }

    input,
    textarea,
    button,
    select {
      width: 100%;
      padding: 0.8rem;
      margin-top: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
    }

    textarea {
      resize: none;
    }

    button.primary-button {
      background: #4caf50;
      color: white;
      font-weight: bold;
      cursor: pointer;
      border: none;
    }

    button.primary-button:hover {
      background: #45a049;
    }

    footer {
      text-align: center;
      margin-top: 2rem;
      padding: 1rem;
      background: #333;
      color: #fff;
    }

    footer a {
      color: #4caf50;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    .message-format-options {
      display: flex;
      justify-content: space-between;
    }
  </style>
</head>
<body>
  <header>
    <h1>Mora Sender</h1>
    <p>The ultimate solution to anonymous mailing and texting</p>
  </header>
  <main>
    <section id="dashboard">
      <div id="statusDiv" class="status">
        Emails: 0, Phones: 0
      </div>

      <!-- Select Mode -->
      <div class="input-group">
        <label for="sendMode">Choose Mode:</label>
        <select id="sendMode">
          <option value="email">Email</option>
          <option value="sms">SMS</option>
        </select>
      </div>

      <!-- API or SMTP Selection -->
      <div class="input-group">
        <label for="connectionMode">Select Connection Type:</label>
        <select id="connectionMode">
          <option value="api">API</option>
          <option value="smtp">SMTP</option>
        </select>
      </div>

      <!-- File Upload -->
      <div class="input-group">
        <label for="fileInput">Upload Contact List:</label>
        <input type="file" id="fileInput" accept=".txt">
      </div>

      <!-- Message Input -->
      <div class="input-group">
        <label for="messageBox">Message:</label>
        <textarea id="messageBox" placeholder="Enter your message here..."></textarea>
      </div>

      <!-- Message Format Selection -->
      <div class="message-format-options">
        <div>
          <label for="messageType">Message Format:</label>
          <select id="messageType">
            <option value="text">Text</option>
            <option value="html">HTML</option>
          </select>
        </div>
      </div>

      <!-- Attachment Upload -->
      <div class="input-group">
        <label for="attachmentInput">Attach File (Optional):</label>
        <input type="file" id="attachmentInput">
      </div>

      <!-- Schedule Input -->
      <div class="input-group">
        <label for="scheduleInput">Schedule:</label>
        <input type="datetime-local" id="scheduleInput">
      </div>

      <!-- API Key -->
      <div class="input-group">
        <label for="apiKeyInput">API Key:</label>
        <input type="text" id="apiKeyInput" placeholder="Enter API Key">
      </div>

      <!-- SMTP Configuration -->
      <form id="smtpConfigForm">
        <h3>SMTP Configuration:</h3>
        <input type="text" name="smtpHost" placeholder="SMTP Host">
        <input type="number" name="smtpPort" placeholder="SMTP Port">
        <input type="text" name="smtpUser" placeholder="SMTP Username">
        <input type="password" name="smtpPass" placeholder="SMTP Password">
        <button type="submit">Configure SMTP</button>
      </form>

      <!-- Send Button -->
      <button id="sendButton" class="primary-button">Send</button>
    </section>
  </main>

  <footer>
    <p>Built by Lordship | <a href="https://t.me/lordshipempire" target="_blank">Telegram: t.me/lordshipempire</a></p>
  </footer>
  
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const sendButton = document.getElementById("sendButton");
      const fileInput = document.getElementById("fileInput");
      const statusDiv = document.getElementById("statusDiv");
      const scheduleInput = document.getElementById("scheduleInput");
      const apiKeyInput = document.getElementById("apiKeyInput");
      const smtpConfigForm = document.getElementById("smtpConfigForm");
      const messageBox = document.getElementById("messageBox");
      const attachmentInput = document.getElementById("attachmentInput");
      const sendModeSelect = document.getElementById("sendMode");
      const connectionModeSelect = document.getElementById("connectionMode");
      const messageTypeSelect = document.getElementById("messageType");

      let emailList = [];
      let phoneList = [];
      let apiConfigured = false;
      let smtpConfigured = false;

      // File Upload
      fileInput.addEventListener("change", (e) => {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (event) => {
            const content = event.target.result;
            processFile(content);
          };
          reader.readAsText(file);
        }
      });

      function processFile(content) {
        const lines = content.split("\n").filter(Boolean);
        lines.forEach((line) => {
          if (validateEmail(line)) emailList.push(line);
          else if (validatePhone(line)) phoneList.push(line);
        });
        updateStatus();
      }

      function validateEmail(email) {
        const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return regex.test(email);
      }

      function validatePhone(phone) {
        const regex = /^\+?[1-9]\d{1,14}$/;
        return regex.test(phone);
      }

      function updateStatus() {
        statusDiv.textContent = `Emails: ${emailList.length}, Phones: ${phoneList.length}`;
      }

      // SMTP Configuration
      smtpConfigForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const smtpHost = e.target.smtpHost.value;
        const smtpPort = e.target.smtpPort.value;
        const smtpUser = e.target.smtpUser.value;
        const smtpPass = e.target.smtpPass.value;

        if (smtpHost && smtpPort && smtpUser && smtpPass) {
          smtpConfigured = true;
          alert("SMTP Configured Successfully");
        } else {
          smtpConfigured = false;
          alert("Invalid SMTP Configuration");
        }
      });

      // Sending Logic
      sendButton.addEventListener("click", () => {
        const message = messageBox.value;
        const attachment = attachmentInput.files[0];
        const schedule = scheduleInput.value;
        const sendMode = sendModeSelect.value;
        const connectionMode = connectionModeSelect.value;
        const messageType = messageTypeSelect.value;

        if (!message) {
          alert("Message cannot be empty!");
          return;
        }

        if (!apiConfigured && !smtpConfigured) {
          alert("Configure either API or SMTP before sending!");
          return;
        }

        if (sendMode === "email" && emailList.length === 0) {
          alert("No email recipients found!");
          return;
        }

        if (sendMode === "sms" && phoneList.length === 0) {
          alert("No phone recipients found!");
          return;
        }

        simulateSending(sendMode, connectionMode, message, attachment, schedule, messageType);
      });

      function simulateSending(sendMode, connectionMode, message, attachment, schedule, messageType) {
        let sent = 0;
        let failed = 0;

        if (sendMode === "email") {
          emailList.forEach((email) => {
            const success = Math.random() > 0.1;
            if (success) sent++;
            else failed++;
          });
        } else if (sendMode === "sms") {
          phoneList.forEach((phone) => {
            const success = Math.random() > 0.1;
            if (success) sent++;
            else failed++;
          });
        }

        alert(
          `${sendMode === "email" ? "Emails" : "SMS"} Sent: ${sent}, Failed: ${failed}. Scheduled for: ${
            schedule || "Now"
          }.`
        );
      }

      apiKeyInput.addEventListener("input", (e) => {
        const key = e.target.value.trim();
        if (key) {
          apiConfigured = true;
        } else {
          apiConfigured = false;
        }
      });
    });
  </script>
</body>
</html>
